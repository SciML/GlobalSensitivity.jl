<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sobol Method · GlobalSensitivity.jl</title><meta name="title" content="Sobol Method · GlobalSensitivity.jl"/><meta property="og:title" content="Sobol Method · GlobalSensitivity.jl"/><meta property="twitter:title" content="Sobol Method · GlobalSensitivity.jl"/><meta name="description" content="Documentation for GlobalSensitivity.jl."/><meta property="og:description" content="Documentation for GlobalSensitivity.jl."/><meta property="twitter:description" content="Documentation for GlobalSensitivity.jl."/><meta property="og:url" content="https://docs.sciml.ai/GlobalSensitivity/stable/methods/sobol/"/><meta property="twitter:url" content="https://docs.sciml.ai/GlobalSensitivity/stable/methods/sobol/"/><link rel="canonical" href="https://docs.sciml.ai/GlobalSensitivity/stable/methods/sobol/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="GlobalSensitivity.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">GlobalSensitivity.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">GlobalSensitivity.jl: Global Sensitivity Analysis (GSA)</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/parallelized_gsa/">Parallelized Morris and Sobol Sensitivity Analysis of an ODE</a></li><li><a class="tocitem" href="../../tutorials/juliacon21/">Global Sensitivity Analysis of the Lotka-Volterra model</a></li><li><a class="tocitem" href="../../tutorials/shapley/">Using the Shapley method in case of correlated inputs</a></li></ul></li><li><span class="tocitem">Methods</span><ul><li><a class="tocitem" href="../morris/">Morris Method</a></li><li class="is-active"><a class="tocitem" href>Sobol Method</a></li><li><a class="tocitem" href="../regression/">Regression Method</a></li><li><a class="tocitem" href="../efast/">eFAST Method</a></li><li><a class="tocitem" href="../delta/">Delta Moment-Independent Method</a></li><li><a class="tocitem" href="../dgsm/">Derivative based Global Sensitivity Measure Method</a></li><li><a class="tocitem" href="../easi/">EASI Method</a></li><li><a class="tocitem" href="../fractional/">Fractional Factorial Method</a></li><li><a class="tocitem" href="../rbdfast/">Random Balance Design FAST Method</a></li><li><a class="tocitem" href="../rsa/">RSA Method</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Methods</a></li><li class="is-active"><a href>Sobol Method</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sobol Method</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/GlobalSensitivity.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/GlobalSensitivity.jl/blob/master/docs/src/methods/sobol.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Sobol-Method"><a class="docs-heading-anchor" href="#Sobol-Method">Sobol Method</a><a id="Sobol-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Sobol-Method" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GlobalSensitivity.Sobol" href="#GlobalSensitivity.Sobol"><code>GlobalSensitivity.Sobol</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Sobol(; order = [0, 1], nboot = 1, conf_level = 0.95)</code></pre><ul><li><code>order</code>: the order of the indices to calculate. Defaults to [0,1], which means the Total and First order indices. Passing 2 enables calculation of the Second order indices as well.</li><li><code>nboot</code>: for confidence interval calculation <code>nboot</code> should be specified for the number (&gt;0) of bootstrap runs.</li><li><code>conf_level</code>: the confidence level, the default for which is 0.95.</li></ul><p><strong>Method Details</strong></p><p>Sobol is a variance-based method, and it decomposes the variance of the output of the model or system into fractions which can be attributed to inputs or sets of inputs. This helps to get not just the individual parameter&#39;s sensitivities, but also gives a way to quantify the affect and sensitivity from the interaction between the parameters.</p><p class="math-container">\[ Y = f_0+ \sum_{i=1}^d f_i(X_i)+ \sum_{i &lt; j}^d f_{ij}(X_i,X_j) ... + f_{1,2...d}(X_1,X_2,..X_d)\]</p><p class="math-container">\[ Var(Y) = \sum_{i=1}^d V_i + \sum_{i &lt; j}^d V_{ij} + ... + V_{1,2...,d}\]</p><p>The Sobol Indices are &quot;order&quot;ed, the first order indices given by <span>$S_i = \frac{V_i}{Var(Y)}$</span> the contribution to the output variance of the main effect of <span>$X_i$</span>. Therefore, it measures the effect of varying <span>$X_i$</span> alone, but averaged over variations in other input parameters. It is standardized by the total variance to provide a fractional contribution. Higher-order interaction indices <span>$S_{i,j}, S_{i,j,k}$</span> and so on can be formed by dividing other terms in the variance decomposition by <span>$Var(Y)$</span>.</p><p><strong>API</strong></p><pre><code class="nohighlight hljs">gsa(f, method::Sobol, p_range::AbstractVector; samples, kwargs...)
gsa(f, method::Sobol, A::AbstractMatrix{TA}, B::AbstractMatrix;
         batch = false, Ei_estimator = :Jansen1999,
         distributed::Val{SHARED_ARRAY} = Val(false),
         kwargs...) where {TA, SHARED_ARRAY}</code></pre><p><code>Ei_estimator</code> can take <code>:Homma1996</code>, <code>:Sobol2007</code> and <code>:Jansen1999</code> for which   Monte Carlo estimator is used for the <code>Ei</code> term. Defaults to <code>:Jansen1999</code>. Details for these can be found in the   corresponding papers:</p><ul><li><code>:Homma1996</code> - <a href="https://www.sciencedirect.com/science/article/abs/pii/0951832096000026">Homma, T. and Saltelli, A., 1996. Importance measures in global sensitivity analysis of nonlinear models. Reliability Engineering &amp; System Safety, 52(1), pp.1-17.</a></li><li><code>:Sobol2007</code> - <a href="https://www.sciencedirect.com/science/article/abs/pii/S0951832006001499">I.M. Sobol, S. Tarantola, D. Gatelli, S.S. Kucherenko and W. Mauntz, 2007, Estimating the approx- imation errors when fixing unessential factors in global sensitivity analysis, Reliability Engineering and System Safety, 92, 957–960.</a> and <a href="https://www.sciencedirect.com/science/article/abs/pii/S0010465509003087">A. Saltelli, P. Annoni, I. Azzini, F. Campolongo, M. Ratto and S. Tarantola, 2010, Variance based sensitivity analysis of model output. Design and estimator for the total sensitivity index, Computer Physics Communications 181, 259–270.</a></li><li><code>:Jansen1999</code> - <a href="https://www.sciencedirect.com/science/article/abs/pii/S0010465598001544">M.J.W. Jansen, 1999, Analysis of variance designs for model output, Computer Physics Communi- cation, 117, 35–43.</a></li><li><code>:Janon2014</code> - <a href="https://arxiv.org/abs/1303.6451">Janon, A., Klein, T., Lagnoux, A., Nodet, M., &amp; Prieur, C. (2014). Asymptotic normality and efficiency of two Sobol index estimators. ESAIM: Probability and Statistics, 18, 342-364.</a></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using GlobalSensitivity, QuasiMonteCarlo

function ishi(X)
    A= 7
    B= 0.1
    sin(X[1]) + A*sin(X[2])^2+ B*X[3]^4 *sin(X[1])
end

samples = 600000
lb = -ones(4)*π
ub = ones(4)*π
sampler = SobolSample()
A,B = QuasiMonteCarlo.generate_design_matrices(samples,lb,ub,sampler)

res1 = gsa(ishi,Sobol(order=[0,1,2]),A,B)

function ishi_batch(X)
    A= 7
    B= 0.1
    @. sin(X[1,:]) + A*sin(X[2,:])^2+ B*X[3,:]^4 *sin(X[1,:])
end

res2 = gsa(ishi_batch,Sobol(),A,B,batch=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/GlobalSensitivity.jl/blob/1c97cef087e9833a88ff9c59aaa959d17101d144/src/sobol_sensitivity.jl#L1-L76">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../morris/">« Morris Method</a><a class="docs-footer-nextpage" href="../regression/">Regression Method »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Tuesday 30 July 2024 10:55">Tuesday 30 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
